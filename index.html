<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Smart ‚Äì Balc√£o | Smart Tecnologia</title>

    <!-- CSS externo -->
    <link rel="stylesheet" href="style.css">

    <!-- SheetJS para XLS/XLSX -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

    <style>
        /* Fallback b√°sico caso style.css n√£o carregue */
        body {
            margin: 0;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
            background: #f5f6fa;
            color: #111;
        }

        .hidden {
            display: none !important;
        }

        .btn {
            cursor: pointer;
            padding: 6px 12px;
            border-radius: 6px;
            border: 1px solid #ccc;
            background: #007bff;
            color: #fff;
        }

        .btn:hover {
            opacity: 0.9;
        }

        .muted {
            color: #666;
            font-size: 13px;
        }

        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #333;
            color: #fff;
            padding: 10px 16px;
            border-radius: 6px;
            display: none;
            z-index: 9999;
        }

        .toast.show {
            display: block;
        }

        header.topbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
            background: #fff;
            border-bottom: 1px solid #ddd;
        }

        .menubar {
            display: flex;
            gap: 20px;
            background: #fafafa;
            padding: 10px 20px;
            border-bottom: 1px solid #ddd;
        }

        .menu-item {
            background: none;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }

        main {
            padding: 20px;
        }
    </style>
</head>

<body>
    <!-- AUTH -->
    <div id="auth" class="auth hidden">
        <div class="auth-card">
            <h2 style="margin:0 0 8px">Acessar o sistema</h2>
            <div class="muted" id="storeMode">‚Äî</div>
            <form id="loginForm" class="grid" style="margin-top:10px">
                <div class="field">
                    <label for="loginEmail">E-mail</label>
                    <input id="loginEmail" type="email" placeholder="admin@smart" required value="admin@smart" />
                </div>
                <div class="field">
                    <label for="loginPass">Senha</label>
                    <input id="loginPass" type="password" placeholder="123456" required value="123456" />
                </div>
                <button class="btn" type="submit">Entrar</button>
                <div class="muted">Demo: <span class="badge">admin@smart / Smart@2025</span></div>
            </form>

            <div class="toolbar">
                <button id="btnVendas" class="btn">Vendas (F2)</button>
                <button id="pNew" class="btn">Novo</button>
                <button id="pExport" class="btn">Exportar</button>
                <input id="pImport" type="file" accept=".json,.csv,.xls,.xlsx" />
                <input id="pSearch" placeholder="Buscar..." />
            </div>

            <hr style="border:0;border-top:1px solid #ddd;margin:8px 0">

            <form id="regForm" class="grid">
                <h3 style="margin:0">Cadastrar cliente (CNPJ obrigat√≥rio)</h3>
                <div class="field"><label for="regName">Raz√£o Social</label><input id="regName" required
                        placeholder="Empresa Exemplo LTDA" /></div>
                <div class="field"><label for="regEmail">E-mail</label><input id="regEmail" type="email" required
                        placeholder="contato@empresa.com.br" /></div>
                <div class="field"><label for="regCNPJ">CNPJ</label><input id="regCNPJ" inputmode="numeric"
                        maxlength="18" placeholder="00.000.000/0000-00" required /></div>
                <div class="field"><label for="regPass">Senha</label><input id="regPass" type="password" required
                        placeholder="Crie uma senha" /></div>
                <div class="toolbar">
                    <button class="btn" type="submit">Cadastrar e entrar</button>
                    <button class="btn" type="button" id="fillDemo">Preencher demo</button>
                </div>
                <div class="muted">Aceitar CNPJ e CPF</div>
            </form>
        </div>
    </div>

    <!-- TOP BAR -->
    <header class="topbar no-print">
        <div class="brand">
            <svg class="logo" viewBox="0 0 64 64" aria-hidden="true">
                <defs>
                    <linearGradient id="g" x1="0" x2="1">
                        <stop offset="0" stop-color="#d65d63" />
                        <stop offset="1" stop-color="#c14f56" />
                    </linearGradient>
                </defs>
                <circle cx="32" cy="32" r="8" fill="url(#g)" />
                <circle cx="16" cy="20" r="8" fill="url(#g)" />
                <circle cx="48" cy="20" r="8" fill="url(#g)" />
                <circle cx="20" cy="48" r="8" fill="url(#g)" />
                <circle cx="44" cy="48" r="8" fill="url(#g)" />
            </svg>
            <h1>uniplus</h1>
        </div>
        <div class="center-pill">BALC√ÉO ‚Äî SMART TECNOLOGIA LTDA</div>
        <div class="actions">
            <button class="icon-btn" id="btnSearch" title="Pesquisar (/)">üîç</button>
            <button class="icon-btn" id="btnBell" title="Notifica√ß√µes">üîî</button>
            <button class="icon-btn" id="btnDocs" title="Documentos">üìÑ</button>
            <button class="icon-btn" id="btnPrint" title="Imprimir">üñ®Ô∏è</button>
            <div class="user hidden" id="userBox">
                <div class="avatar" id="avatar">?</div>
                <div class="user-drop">
                    <div style="padding:6px 10px;color:#666;font-size:12px" id="userInfo">‚Äî</div>
                    <a href="#" id="myAccount">üë§ Minha conta</a>
                    <button id="logoutBtn">‚èª Sair</button>
                </div>
            </div>
            <button class="icon-btn" id="btnLogin" title="Entrar">‚èª</button>
        </div>
    </header>

    <!-- MENUS -->
    <nav class="menubar no-print">
        <div class="dropdown" data-roles="admin">
            <button class="menu-item">CADASTROS</button>
            <div class="submenu">
                <a href="#" data-view="clientes">üë§ Clientes</a>
                <a href="#" data-view="fornecedores">üè¢ Fornecedores</a>
                <a href="#" data-view="produtos">üì¶ Produtos</a>
                <a href="#" data-view="tecnicos">üßë‚Äçüîß T√©cnicos</a>
            </div>
        </div>
        <div class="dropdown" data-roles="admin cliente">
            <button class="menu-item">VENDAS</button>
            <div class="submenu">
                <a href="#" data-view="pdv" data-roles="admin">üíµ PDV / Balc√£o</a>
                <a href="#" data-view="orcamentos">üßæ Or√ßamentos</a>
                <a href="#" data-view="vendas">üìí Vendas</a>
                <a href="#" data-view="trocas" data-roles="admin">‚ôªÔ∏è Trocas/Devolu√ß√µes</a>
            </div>
        </div>
        <div class="dropdown" data-roles="admin cliente">
            <button class="menu-item">E-COMMERCE</button>
            <div class="submenu">
                <a href="#" data-view="catalogo">üöÄ Cat√°logo Online</a>
                <a href="#" data-view="whatsapp">üí¨ WhatsApp Vendas</a>
            </div>
        </div>
        <div class="dropdown" data-roles="admin">
            <button class="menu-item">FERRAMENTAS</button>
            <div class="submenu">
                <a href="#" data-view="relatorios">üìä Relat√≥rios</a>
                <a href="#" data-view="backup">üíΩ Backup</a>
                <a href="#" data-view="config">‚öôÔ∏è Configura√ß√µes</a>
            </div>
        </div>
    </nav>

    <!-- CONTE√öDO -->
    <main>
        <section class="cards" id="view">
            <article class="card" style="grid-column:span 12">
                <h3>Bem-vindo(a)</h3>
                <p style="margin:6px 0;color:#666">
                    Use o menu acima para abrir m√≥dulos.
                    Atalhos: <kbd>/</kbd> busca ‚Ä¢ <kbd>g c</kbd> Clientes ‚Ä¢ <kbd>g o</kbd> Or√ßamentos.
                </p>
            </article>
        </section>
    </main>

    <!-- BUSCA -->
    <dialog id="searchModal" class="search no-print">
        <form method="dialog" class="search-body">
            <div class="search-input">
                <span>üîç</span>
                <input id="searchInput" placeholder="Pesquisar clientes, produtos, or√ßamentos, vendas‚Ä¶" />
                <kbd>Esc</kbd>
            </div>
            <div id="searchResults" style="margin-top:10px;color:#666;font-size:14px"></div>
        </form>
    </dialog>

    <!-- TOAST -->
    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <!-- Scripts -->
    <script src="app.js"></script>
</body>

</html>